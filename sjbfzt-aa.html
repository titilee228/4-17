<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据播发状态</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.2/dist/echarts.min.js"></script>
    <link rel="stylesheet" href="//at.alicdn.com/t/font_2277842_s646dub1bj.css">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }

        body {
            width: 1920px;
            height: 1080px;
            overflow: hidden;
            background: linear-gradient(135deg, #000B30 0%, #061B82 100%);
            color: white;
            position: relative;
        }

        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(22, 72, 163, 0.3) 1px, transparent 1px),
                linear-gradient(90deg, rgba(22, 72, 163, 0.3) 1px, transparent 1px);
            background-size: 20px 20px;
            z-index: -1;
        }

        /* Top Navigation */
        .top-nav {
            height: 60px;
            background-color: rgba(6, 27, 130, 0.8);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            border-bottom: 1px solid rgba(50, 145, 198, 0.5);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .system-title {
            font-size: 24px;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 10px rgba(50, 145, 198, 0.7);
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            letter-spacing: 0.1em;
        }

        .user-info {
            position: absolute;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-info::before {
      /*      font-family: 'iconfont';
            content: '\e619';
            font-size: 16px;*/
        }

        .logout-btn {
            background-color: rgba(50, 145, 198, 0.3);
            color: white;
            border: 1px solid #3291C6;
            border-radius: 4px;
            padding: 5px 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .logout-btn:hover {
            background-color: rgba(50, 145, 198, 0.7);
            box-shadow: 0 0 10px rgba(50, 145, 198, 0.7);
        }

        /* Main Layout */
        .main-container {
            display: flex;
            height: calc(1080px - 60px);
        }

        /* Sidebar Menu */
        .sidebar {
            width: 250px;
            background-color: rgba(6, 27, 130, 0.7);
            padding: 20px 0;
            height: 100%;
            border-right: 1px solid rgba(50, 145, 198, 0.3);
        }

        .menu-title {
            font-size: 16px;
            font-weight: bold;
            color: #3291C6;
            padding: 10px 20px;
            border-bottom: 1px solid rgba(50, 145, 198, 0.3);
            margin-bottom: 15px;
        }

        .menu-item {
            padding: 12px 20px;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            position: relative;
        }

        .menu-item:hover {
            background-color: rgba(50, 145, 198, 0.3);
            color: white;
        }

        .menu-item.active {
            background-color: rgba(50, 145, 198, 0.5);
            color: white;
            border-left: 3px solid #3291C6;
        }

        /* Main Content */
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid rgba(50, 145, 198, 0.3);
            margin-bottom: 20px;
        }

        .tab-item {
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s;
            color: rgba(255, 255, 255, 0.7);
            border-bottom: 2px solid transparent;
        }

        .tab-item:hover {
            color: #3291C6;
        }

        .tab-item.active {
            color: white;
            border-bottom-color: #3291C6;
        }

        /* Content Blocks */
        .content-block {
            background: rgba(6, 27, 130, 0.5);
            border: 1px solid rgba(50, 145, 198, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Top Data Container */
        .top-data-container {
            display: flex;
            margin-bottom: 20px;
            gap: 20px;
        }

        .map-container {
            flex: 1.5;
            height: 400px;
            background: rgba(6, 27, 130, 0.3);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .user-stats-container {
            flex: 1;
            height: 400px;
        }

        .telegram-table-container {
            flex: 1.5;
            height: 400px;
        }

        /* Section Title */
        .section-title {
            font-size: 16px;
            font-weight: bold;
            color: #3291C6;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .section-title i {
            margin-right: 10px;
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        .data-table th {
            background-color: rgba(50, 145, 198, 0.2);
            color: #3291C6;
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid rgba(50, 145, 198, 0.3);
        }

        .data-table td {
            padding: 10px;
            border-bottom: 1px solid rgba(50, 145, 198, 0.6);
        }

        .data-table tr:hover td {
            background-color: rgba(50, 145, 198, 0.1);
        }

        /* Status Indicators */
        .status-light {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .status-normal {
            background-color: #4CAF50;
            box-shadow: 0 0 5px #4CAF50;
        }

        .status-stopped {
            background-color: #F44336;
            box-shadow: 0 0 5px #F44336;
        }

        /* Charts Container */
        .charts-container {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .chart-box {
            flex: 1;
            background: rgba(6, 27, 130, 0.3);
            border-radius: 8px;
            padding: 15px;
            height: 300px;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(13, 32, 64, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(77, 171, 247, 0.5);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(77, 171, 247, 0.8);
        }

        /* Icon Font */
        @font-face {
            font-family: 'iconfont';
            src: url('font_1/iconfont.ttf?t=1744774694627') format('truetype');
        }
        .iconfont {
            font-family: "iconfont" !important;
            font-size: 16px;
            font-style: normal;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <div class="top-nav">
        <div class="system-title">数据播发</div>
        <div class="user-info">
            <span>管理员</span>
            <button class="logout-btn">退出</button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar Menu -->
        <div class="sidebar">
            <div class="menu-title">数据播发</div>
            <div class="menu-item">
                <i class="iconfont icon-settings"></i>
                <span>数据播发配置</span>
            </div>
            <div class="menu-item active">
                <i class="iconfont icon-monitor"></i>
                <span>数据播发状态监控</span>
            </div>
        </div>

        <!-- Main Content -->
        <div class="content">
            <!-- Communication Type Tabs -->
            <div class="tabs">
                <div class="tab-item active">移动通信 - 广域</div>
                <div class="tab-item">移动通信 - 区域</div>
                <div class="tab-item">卫星通信</div>
                <div class="tab-item">互联网 / 专线</div>
            </div>

            <!-- 修改顶部数据容器布局 -->
            <div class="top-data-container">
            <!-- 合并后的地图和用户统计面板 -->
            <div class="content-block" style="flex: 1; display: flex; gap: 15px;">
            <!-- 中国地图容器 -->
            <div style="flex: 1.5; height: 400px; background: rgba(6, 27, 130, 0.3); border-radius: 8px; display: flex; justify-content: center; align-items: center;">
            <div id="chinaMap" style="width: 100%; height: 100%;">
            <div style="text-align: center; color: rgba(255, 255, 255, 0.5);">中国地图展示区域</div>
            </div>
            </div>
            
            <!-- 在线用户统计 -->
            <div style="flex: 1; height: 400px;">
            <div class="section-title">
            <i class="iconfont icon-user"></i>
            <span>在线用户数量（个）</span>
            </div>
            <div id="userStatsChart" style="width: 100%; height: 350px;"></div>
            </div>
            </div>
            
            <!-- 电文信息表格 -->
            <div class="content-block" style="flex: 1;">
            <div class="section-title">
            <i class="iconfont icon-document"></i>
            <span>电文信息</span>
            </div>
          <div style="height: 350px; overflow: auto;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>产品类型</th>
                                    <th>电文类型</th>
                                    <th>电文名称</th>
                                    <th>最新接收时间</th>
                                    <th>播发状态</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td rowspan="2">BDS广域差分电文组</td>
                                    <td>1300</td>
                                    <td>BDS轨道改正电文</td>
                                    <td>2024-06-15 10:23:45</td>
                                    <td>
                                        <span class="status-light status-normal"></span>
                                        正常
                                    </td>
                                </tr>
                                <tr>
                                    <td>1301</td>
                                    <td>BDS钟差改正电文</td>
                                    <td>2024-06-15 10:23:45</td>
                                    <td>
                                        <span class="status-light status-normal"></span>
                                        正常
                                    </td>
                                </tr>
                                <tr>
                                    <td rowspan="2">BDS广域差分电文组</td>
                                    <td>1302</td>
                                    <td>BDS码偏差电文</td>
                                    <td>2024-06-15 10:23:45</td>
                                    <td>
                                        <span class="status-light status-normal"></span>
                                        正常
                                    </td>
                                </tr>
                                <tr>
                                    <td>1063</td>
                                    <td>GPS轨道改正电文</td>
                                    <td>2024-06-15 10:23:45</td>
                                    <td>
                                        <span class="status-light status-stopped"></span>
                                        停止
                                    </td>
                                </tr>
                                <tr>
                                    <td rowspan="2">GPS广域差分电文组</td>
                                    <td>1064</td>
                                    <td>GPS钟差改正电文</td>
                                    <td>2024-06-15 10:23:45</td>
                                    <td>
                                        <span class="status-light status-normal"></span>
                                        正常
                                    </td>
                                </tr>
                                <tr>
                                    <td>1009</td>
                                    <td>GLONASS L1 RTX观测值电文</td>
                                    <td>2024-06-17 12:23:45</td>
                                    <td>
                                        <span class="status-light status-normal"></span>
                                        正常
                                    </td>
                                </tr>
                                <tr>
                                    <td rowspan="2">GLONASS区域RTX电文组</td>
                                    <td>1035</td>
                                    <td>GLONASS网络FKP梯度电文</td>
                                    <td>2024-06-15 15:23:45</td>
                                    <td>
                                        <span class="status-light status-normal"></span>
                                        正常
                                    </td>
                                </tr>
                                <tr>
                                    <td>1005</td>
                                    <td>RTK 基准站 ARP</td>
                                    <td>2024-06-15 11:23:45</td>
                                    <td>
                                        <span class="status-light status-normal"></span>
                                        正常
                                    </td>
                                </tr>
                                <tr>
                                    <td rowspan="2">区域RTK基准站及天线电文组</td>
                                    <td>1006</td>
                                    <td>固定基准站ARP及天线高度</td>
                                    <td>2024-06-16 10:23:45</td>
                                    <td>
                                        <span class="status-light status-normal"></span>
                                        正常
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
            </div>
            </div>

            <!-- Charts Container -->
            <div class="charts-container">
            <!-- Product Receive Status Chart -->
            <div class="content-block chart-box">
            <div class="section-title">
            <i class="iconfont icon-chart-line"></i>
            <span>产品接收状态统计</span>
            </div>
            <div id="productReceiveChart" style="width: 100%; height: 250px;"></div>
            </div>

            <!-- Broadcast Success Rate Chart -->
            <div class="content-block chart-box">
            <div class="section-title">
            <i class="iconfont icon-chart-bar"></i>
            <span>播发成功率统计</span>
            </div>
            <div id="successRateChart" style="width: 100%; height: 250px;"></div>
            </div>

            <!-- Broadcast Delay Chart -->
            <div class="content-block chart-box">
            <div class="section-title">
            <i class="iconfont icon-clock"></i>
            <span>播发平均时延统计（系统内）</span>
            </div>
            <div id="delayChart" style="width: 100%; height: 250px;"></div>
            </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all charts
            initUserStatsChart();
            initProductReceiveChart();
            initSuccessRateChart();
            initDelayChart();
            
            // Handle window resize
            window.addEventListener('resize', function() {
                userStatsChart.resize();
                productReceiveChart.resize();
                successRateChart.resize();
                delayChart.resize();
            });
            
            // Tab click event
            document.querySelectorAll('.tab-item').forEach(function(tab) {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.tab-item').forEach(function(t) {
                        t.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
            
            // Logout button click
            document.querySelector('.logout-btn').addEventListener('click', function() {
                alert('您已成功退出系统');
            });
        });
        
        // User Stats Chart
        let userStatsChart;
        function initUserStatsChart() {
            userStatsChart = echarts.init(document.getElementById('userStatsChart'));
            
            const option = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'value',
                    axisLine: {
                        lineStyle: {
                            color: '#3291C6'
                        }
                    },
                    axisLabel: {
                        color: '#e1e1e1'
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(50, 145, 198, 0.3)'
                        }
                    }
                },
                yAxis: {
                    type: 'category',
                    data: ['北京', '上海', '广东', '江苏', '浙江', '山东', '四川', '河北', '湖南', '湖北'],
                    axisLine: {
                        lineStyle: {
                            color: '#3291C6'
                        }
                    },
                    axisLabel: {
                        color: '#e1e1e1'
                    }
                },
                series: [{
                    name: '在线用户数量',
                    type: 'bar',
                    data: [120, 110, 150, 80, 70, 60, 40, 30, 25, 20],
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [
                            {offset: 0, color: '#4db8ff'},
                            {offset: 1, color: '#008bff'}
                        ])
                    }
                }]
            };
            
            userStatsChart.setOption(option);
        }
        
        // Product Receive Chart
        let productReceiveChart;
        function initProductReceiveChart() {
            productReceiveChart = echarts.init(document.getElementById('productReceiveChart'));
            
            const option = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['完整率', '有效率'],
                    textStyle: {
                        color: '#e1e1e1'
                    },
                    right: 10
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['12:00', '14:00', '16:00', '18:00', '20:00', '22:00'],
                    axisLine: {
                        lineStyle: {
                            color: '#3291C6'
                        }
                    },
                    axisLabel: {
                        color: '#e1e1e1'
                    }
                },
                yAxis: {
                    type: 'value',
                    min: 95,
                    max: 100,
                    axisLine: {
                        lineStyle: {
                            color: '#3291C6'
                        }
                    },
                    axisLabel: {
                        color: '#e1e1e1',
                        formatter: '{value}%'
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(50, 145, 198, 0.3)'
                        }
                    }
                },
                series: [
                    {
                        name: '完整率',
                        type: 'line',
                        data: [99.5, 99.2, 99.6, 99.3, 99.8, 99.7],
                        symbol: 'circle',
                        symbolSize: 6,
                        itemStyle: {
                            color: '#4db8ff'
                        },
                        lineStyle: {
                            width: 2,
                            color: '#4db8ff'
                        },
                        label: {
                            show: true,
                            position: 'top',
                            formatter: '{c}%',
                            color: '#4db8ff'
                        }
                    },
                    {
                        name: '有效率',
                        type: 'line',
                        data: [98.1, 97.8, 98.3, 98.5, 98.9, 98.7],
                        symbol: 'circle',
                        symbolSize: 6,
                        itemStyle: {
                            color: '#FFC107'
                        },
                        lineStyle: {
                            width: 2,
                            color: '#FFC107'
                        },
                        label: {
                            show: true,
                            position: 'top',
                            formatter: '{c}%',
                            color: '#FFC107'
                        }
                    }
                ]
            };
            
            productReceiveChart.setOption(option);
        }
        
        // Success Rate Chart
        let successRateChart;
        function initSuccessRateChart() {
            successRateChart = echarts.init(document.getElementById('successRateChart'));
            
            const option = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'axis',
                    formatter: '{b}: {c}%'
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '8%',
                    top: '5%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: [
                        'BDS广域\n差分电文组', 
                        'GPS广域\n差分电文组', 
                        'GLONASS广域\n差分电文组', 
                        'GLONASS区域\nRTX电文组', 
                        '区域RTK\n基准站及天线电文组'
                    ],
                    axisLine: {
                        lineStyle: {
                            color: '#3291C6'
                        }
                    },
                    axisLabel: {
                        color: '#e1e1e1',
                        interval: 0,
                        rotate: 30
                    }
                },
                yAxis: {
                    type: 'value',
                    min: 90,
                    max: 100,
                    axisLine: {
                        lineStyle: {
                            color: '#3291C6'
                        }
                    },
                    axisLabel: {
                        color: '#e1e1e1',
                        formatter: '{value}%'
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(50, 145, 198, 0.3)'
                        }
                    }
                },
                series: [
                    {
                        type: 'bar',
                        data: [99.7, 98.5, 97.8, 99.2, 98.9],
                        barWidth: '40%',
                        itemStyle: {
                            color: function(params) {
                                const colorList = ['#4db8ff', '#FFC107', '#4CAF50', '#F44336', '#9C27B0'];
                                return colorList[params.dataIndex];
                            }
                        },
                        label: {
                            show: true,
                            position: 'top',
                            formatter: '{c}%',
                            color: '#e1e1e1'
                        }
                    }
                ]
            };
            
            successRateChart.setOption(option);
        }
        
        // Delay Chart
        let delayChart;
        function initDelayChart() {
            delayChart = echarts.init(document.getElementById('delayChart'));
            
            const option = {
                backgroundColor: 'transparent',
                tooltip: {
                    trigger: 'axis',
                    formatter: '{b}: {c}s'
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['移动通信-广域', '移动通信-区域', '卫星通信'],
                    axisLine: {
                        lineStyle: {
                            color: '#3291C6'
                        }
                    },
                    axisLabel: {
                        color: '#e1e1e1'
                    }
                },
                yAxis: {
                    type: 'value',
                    min: 0.2,
                    max: 0.4,
                    axisLine: {
                        lineStyle: {
                            color: '#3291C6'
                        }
                    },
                    axisLabel: {
                        color: '#e1e1e1',
                        formatter: '{value}s'
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(50, 145, 198, 0.3)'
                        }
                    }
                },
                series: [
                    {
                        type: 'bar',
                        data: [0.25, 0.21, 0.35],
                        barWidth: '40%',
                        itemStyle: {
                            color: function(params) {
                                const colorList = ['#4db8ff', '#4CAF50', '#F44336'];
                                return colorList[params.dataIndex];
                            }
                        },
                        label: {
                            show: true,
                            position: 'top',
                            formatter: '{c}s',
                            color: '#e1e1e1'
                        }
                    }
                ]
            };
            
            delayChart.setOption(option);
        }
    </script>
</body>
</html>